<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FORTIES - 40 anni di straordinarietà</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Playfair+Display:wght@700&family=Comfortaa:wght@700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary: #ff6b8b;
            --secondary: #7c5cff;
            --accent: #42b883;
            --light: #fff5f7;
            --dark: #2d2b55;
            --gradient: linear-gradient(135deg, var(--primary), var(--secondary));
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background: var(--light);
            color: var(--dark);
            line-height: 1.6;
            overflow-x: hidden;
        }
        
        header {
            background: var(--gradient);
            color: white;
            padding: 3rem 1rem;
            text-align: center;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        
        .header-content {
            position: relative;
            z-index: 2;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .main-title {
            font-family: 'Playfair Display', serif;
            font-size: 10rem;
            margin-bottom: 0.5rem;
            text-shadow: 0 2px 10px rgba(0,0,0,0.2);
            #animation: float 3s ease-in-out infinite;
            letter-spacing: 1px;
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 1.5rem;
            font-style: italic;
        }
        
        .intro-box {
            background: rgba(255,255,255,0.15);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 1.5rem;
            margin: 2rem auto;
            max-width: 800px;
            text-align: left;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .intro-box p {
            margin-bottom: 1rem;
        }
        
        .hero-img {
            width: 180px;
            height: 180px;
            background: linear-gradient(45deg, #ff9a9e, #fad0c4);
            border-radius: 50%;
            margin: 1.5rem auto;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 5px solid white;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            animation: pulse 2s infinite;
        }
        
        .hero-img i {
            font-size: 5rem;
            color: white;
        }
        
        .stats-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin: 2rem auto;
            max-width: 600px;
        }
        
        .stat-card {
            background: rgba(255,255,255,0.2);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 1rem;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.3rem;
            line-height: 1;
        }
        
        .stat-label {
            font-size: 0.8rem;
            opacity: 0.9;
            line-height: 1.2;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        .section-title {
            text-align: center;
            font-size: 2.2rem;
            margin: 2.5rem 0;
            color: var(--dark);
            position: relative;
        }
        
        .section-title:after {
            content: "";
            display: block;
            width: 80px;
            height: 4px;
            background: var(--gradient);
            margin: 0.5rem auto;
            border-radius: 10px;
        }
        
        .review-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }
        
        .review-card {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            position: relative;
        }
        
        .review-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
        }
        
        .card-header {
            padding: 1.5rem;
            background: var(--gradient);
            color: white;
            display: flex;
            align-items: center;
        }
        
        .card-icon {
            font-size: 2.5rem;
            margin-right: 1rem;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255,255,255,0.2);
            border-radius: 50%;
        }
        
        .card-title {
            font-size: 1.5rem;
            font-weight: 600;
        }
        
        .card-content {
            padding: 1.8rem;
        }
        
        .card-content ul {
            padding-left: 1.5rem;
            margin: 1rem 0;
        }
        
        .card-content li {
            margin-bottom: 0.8rem;
            position: relative;
        }
        
        .card-content li:before {
            content: "•";
            color: var(--primary);
            font-weight: bold;
            display: inline-block;
            width: 1em;
            margin-left: -1em;
        }
        
        .chart-container {
            height: 250px;
            margin: 1rem 0;
            position: relative;
            width: 100%;
            padding: 10px;
        }

        /* Altezza specifica per il grafico gnome */
        #gnomeChart {
            height: 350px !important;
        }

        /* Altezza maggiore per il container del grafico gnome */
        .chart-container:has(#gnomeChart) {
            height: 370px;
        }

        /* Miglioramenti per schermi piccoli */
        @media (max-width: 768px) {
            .chart-container:has(#gnomeChart) {
                height: 320px;
            }
            
            #gnomeChart {
                height: 300px !important;
            }
        }
        
        @media (max-width: 480px) {
            .chart-container:has(#gnomeChart) {
                height: 280px;
            }
            
            #gnomeChart {
                height: 260px !important;
            }
        }
        
        /* Miglioramenti per schermi piccoli */
        @media (max-width: 768px) {
            .chart-container {
                height: 200px;
                padding: 5px;
            }
        }
        
        @media (max-width: 480px) {
            .chart-container {
                height: 180px;
                padding: 0;
            }
        }

        /* Gift section */
        .gift-section {
            background: linear-gradient(135deg, #ff6b8b, #7c5cff);
            border-radius: 20px;
            padding: 2rem;
            margin: 2rem 0;
            text-align: center;
            color: white;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        .gift-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        
        .code-input-container {
            display: flex;
            gap: 1rem;
            justify-content: center;
            align-items: center;
            margin: 1.5rem 0;
            flex-wrap: wrap;
        }
        
        .gift-input {
            padding: 0.8rem 1.2rem;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
            text-align: center;
            min-width: 200px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
            outline: none;
            transition: all 0.3s ease;
        }
        
        .gift-input:focus {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        
        .gift-button {
            padding: 0.8rem 1.5rem;
            background: white;
            color: #7c5cff;
            border: none;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }
        
        .gift-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            background: #f0f0f0;
        }
        
        .error-message {
            color: #ffeb3b;
            font-weight: 600;
            margin-top: 1rem;
            animation: shake 0.5s ease-in-out;
        }
        
        .gift-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            backdrop-filter: blur(10px);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.5s ease-out;
        }
        
        .gift-content {
            text-align: center;
            color: white;
            max-width: 90%;
            max-height: 90%;
        }
        
        .boarding-pass-container {
            margin-bottom: -2rem;
            display: flex;
            justify-content: center;
        }
        
        .boarding-pass {
            max-width: 500px;
            width: 100%;
            height: auto;
            filter: drop-shadow(0 10px 30px rgba(0,0,0,0.5));
            animation: boardingPassFloat 3s ease-in-out infinite;
        }

        .gift-message {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            z-index: 5;
            position: relative;

        }
        
        .gift-message h2 {
            font-size: 2.5rem;
            color: #ffd93b;
            margin-bottom: 1rem;
            text-shadow: 0 3px 10px rgba(0,0,0,0.5);
        }
        
        .gift-message p {
            font-size: 1.3rem;
            line-height: 1.6;
            margin-bottom: 2rem;
            text-shadow: 0 2px 5px rgba(0,0,0,0.5);
        }
        
        .close-gift-btn {
            padding: 1rem 2rem;
            background: linear-gradient(135deg, #ff6b8b, #7c5cff);
            color: white;
            border: none;
            border-radius: 30px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        
        .close-gift-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.4);
        }
        
        @keyframes boardingPassFloat {
            0% { 
                transform: translateY(0px) rotate(0deg); 
            }
            25% { 
                transform: translateY(-10px) rotate(1deg); 
            }
            50% { 
                transform: translateY(-15px) rotate(-1deg); 
            }
            75% { 
                transform: translateY(-8px) rotate(2deg); 
            }
            100% { 
                transform: translateY(0px) rotate(0deg); 
            }
        }
        
        @keyframes fadeIn {
            from { 
                opacity: 0; 
                transform: scale(0.9); 
            }
            to { 
                opacity: 1; 
                transform: scale(1); 
            }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        @media (max-width: 768px) {
            .code-input-container {
                flex-direction: column;
                gap: 1rem;
            }
            
            .gift-input {
                min-width: 250px;
            }
            
            .boarding-pass {
                max-width: 100%;
            }
            
            .gift-message h2 {
                font-size: 2rem;
            }
            
            .gift-message p {
                font-size: 1.1rem;
            }
        }

        .tickets-container {
            margin: 2rem 0;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .ticket-stack {
            position: relative;
            width: 350px;
            height: 200px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .ticket {
            position: absolute;
            width: 100%;
            object-fit: contain;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
            transition: all 0.6s ease-in-out;
        }
        
        .ticket-1 {
            z-index: 4;
            animation: ticketFlip1 6s infinite ease-in-out;
            
        }
        
        .ticket-2 {
            z-index: 3;
            animation: ticketFlip2 6s infinite ease-in-out;
            
        }
        
        /* Animazioni semplificate - solo movimento verticale e z-index */
        @keyframes ticketFlip1 {
        0%, 100% {transform: translateY(0) rotate(4deg);z-index: 4;}
        25% {transform: translateY(-110px) rotate(10deg);z-index: 4;}
        26% {transform: translateY(-110px) rotate(10deg);z-index: 3;}
        50% { transform: translateY(0) rotate(4deg); z-index: 3; }
        75% {transform: translateY(30px) rotate(-5deg);z-index: 4;}
        }

        @keyframes ticketFlip2 {
        0%, 100% { transform: translateY(0) rotate(-4deg); z-index: 3; }
        25% {transform: translateY(30px) rotate(-5deg);z-index: 3;}
        50% { transform: translateY(0) rotate(-4deg); z-index: 4; }
        75% {transform: translateY(-110px) rotate(10deg);z-index: 4;}
        76% {transform: translateY(-110px) rotate(10deg);z-index: 3;}
        }

        @media (max-width: 768px) {
            .ticket-stack {
                width: 280px;
                height: 160px;
            }
            
            .tickets-container {
                margin: 0.5rem 0;
            }
            
            .boarding-pass {
                max-width: 300px;
            }
        }
        
        @media (max-width: 480px) {
            .ticket-stack {
                width: 240px;
                height: 140px;
            }
            
            .gift-content {
                padding: 1rem;
            }
        }        
        
        .badge {
            display: inline-block;
            background: var(--accent);
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            margin: 0.5rem 0;
            font-weight: 600;
        }
        
        .world-record {
            background: linear-gradient(45deg, #FFD700, #FFA500);
            color: var(--dark);
            font-weight: 700;
            padding: 0.5rem 1rem;
            text-align: center;
            margin-top: 1rem;
            border-radius: 10px;
            position: relative;
            overflow: hidden;
        }
        .world-record::after {
            content: "";
            position: absolute;
            top: 0; left: -75%;
            width: 50%;
            height: 100%;
            background: linear-gradient(120deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.5) 50%, rgba(255,255,255,0) 100%);
            animation: shine 2.2s cubic-bezier(.4,.7,.7,1) infinite;
            pointer-events: none;
        }
        @keyframes shine {
            0% { left: -75%; }
            100% { left: 125%; }
        }
        
        .quote {
            font-style: italic;
            padding: 1.5rem;
            background: rgba(123, 198, 204, 0.1);
            border-radius: 15px;
            margin: 1.5rem 0;
            border-left: 4px solid var(--accent);
            position: relative;
        }
        
        .quote:before {
            content: """;
            font-size: 4rem;
            position: absolute;
            top: -20px;
            left: 10px;
            color: var(--accent);
            opacity: 0.2;
            font-family: serif;
        }
        
        .skills-container {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin: 1.5rem 0;
        }
        
        .skill {
            background: rgba(123, 198, 204, 0.15);
            padding: 0.5rem 1.2rem;
            border-radius: 30px;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
        }
        
        .skill i {
            margin-right: 0.5rem;
            color: var(--accent);
        }
        
        .anecdote {
            background: rgba(255, 107, 139, 0.1);
            padding: 1.2rem;
            border-radius: 15px;
            margin: 1rem 0;
            border-left: 3px solid var(--primary);
        }
        
        .anecdote-title {
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
        }
        
        .anecdote-title i {
            margin-right: 0.5rem;
        }
        
        .gnome-alert {
            display: flex;
            align-items: center;
            background: #ffecf1;
            padding: 0.8rem;
            border-radius: 10px;
            margin: 1rem 0;
        }
        
        .gnome-icon {
            font-size: 2rem;
            margin-right: 1rem;
            color: #7c5cff;
        }
        
        .gnome-text {
            flex: 1;
        }

        .gnome-icon {
            font-size: 2rem;
            margin-right: 1rem;
            color: #7c5cff;
            display: flex;
            align-items: center;
            justify-content: center;
        }
              
        /* Alternativa più semplice se il filtro non funziona */
        .gnome-svg-icon {
            width: 4rem;
            height: 4rem;
            fill: #ff3860;
            filter: brightness(0) saturate(100%) invert(19%) sepia(95%) saturate(7471%) hue-rotate(349deg) brightness(93%) contrast(98%);
        }
        
        .gnome-level {
            font-weight: 700;
            color: #ff3860;
            animation: blink 1.5s infinite;
        }
        
        .polpetta-card {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 20px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            display: flex;
            align-items: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .polpetta-img {
            width: 100px;
            height: 100px;
            background: #fff;
            border-radius: 50%;
            margin-right: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: #ff6b8b;
            border: 3px solid #ff6b8b;
        }

        .polpetta-title {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 2rem;
            color: #ca65b9;
            font-style: italic;
            font-family: 'Playfair Display';
        }
        
        .polpetta-stats {
            flex: 1;
        }
        
        .polpetta-stats h3 {
            color: #2d2b55;
            margin-bottom: 0.5rem;
        }
        
        footer {
            background: var(--dark);
            color: white;
            text-align: center;
            padding: 3rem 1rem;
            margin-top: 3rem;
        }
        
        .footer-content {
            max-width: 600px;
            margin: 0 auto;
        }
        
        .conclusion {
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            font-weight: 600;
        }
        
        .heart {
            color: var(--primary);
            animation: heartbeat 1.2s infinite;
        }
        
        .copyright {
            margin-top: 2rem;
            opacity: 0.7;
            font-size: 0.9rem;
        }

                .poem-container {
            background: linear-gradient(135deg, #f8f4e6, #f5f0e1);
            border-radius: 15px;
            padding: 2rem;
            margin: 1.5rem 0;
            border-left: 4px solid #d4af37;
            box-shadow: inset 0 2px 10px rgba(212, 175, 55, 0.1);
            position: relative;
        }
        
        .poem-container::before {
            content: """;
            position: absolute;
            top: 10px;
            left: 15px;
            font-size: 4rem;
            color: #d4af37;
            opacity: 0.3;
            font-family: serif;
        }
        
        .poem-verse {
            margin-bottom: 1.5rem;
            font-family: 'Playfair Display', serif;
            font-style: italic;
        }
        
        .poem-verse:last-child {
            margin-bottom: 0;
        }
        
        .verse-line {
            font-size: 1.1rem;
            line-height: 1.6;
            color: #5d4e37;
            margin-bottom: 0.3rem;
            padding-left: 1rem;
        }
        
        .poem-signature {
            text-align: center;
            margin: 2rem 0 1.5rem 0;
            font-style: italic;
        }
        
        .signature-line {
            font-size: 1rem;
            color: #d4af37;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        
        .signature-date {
            font-size: 0.85rem;
            color: #8b7355;
            opacity: 0.8;
        }
        
        .memorial-box {
            background: linear-gradient(135deg, #2c2c2c, #3a3a3a);
            border-radius: 15px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            text-align: center;
            color: white;
            position: relative;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .memorial-icon {
            font-size: 2rem;
            margin-bottom: 1rem;
            opacity: 0.9;
        }
        
        .memorial-title {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            color: #f0f0f0;
        }
        
        .memorial-subtitle {
            font-size: 1rem;
            margin-bottom: 0.3rem;
            opacity: 0.9;
        }
        
        .memorial-dates {
            font-size: 0.9rem;
            opacity: 0.7;
            margin-bottom: 1rem;
        }
        
        .memorial-quote {
            font-style: italic;
            font-size: 0.9rem;
            opacity: 0.8;
            border-top: 1px solid rgba(255,255,255,0.2);
            padding-top: 1rem;
        }
        
        @media (max-width: 768px) {
            .poem-container {
                padding: 1.5rem;
            }
            
            .verse-line {
                font-size: 1rem;
                padding-left: 0.5rem;
            }
            
            .memorial-box {
                padding: 1rem;
            }
        }

        /* Stili per il quiz */
        .quiz-screen {
            text-align: center;
            padding: 1rem;
        }

        .quiz-intro {
            margin: 1rem 0;
        }

        .quiz-intro p {
            font-size: 1.1rem;
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        .quiz-progress {
            margin-bottom: 2rem;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255,255,255,0.3);
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 0.5rem;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #42b883, #4cd964);
            border-radius: 10px;
            transition: width 0.5s ease;
            width: 0%;
        }

        .progress-text {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .quiz-question {
            margin: 2rem 0;
        }

        .quiz-question h3 {
            font-size: 1.3rem;
            margin-bottom: 1.5rem;
            line-height: 1.4;
            color: white;
        }

        .answer-options {
            display: grid;
            gap: 1rem;
            max-width: 600px;
            margin: 0 auto;
        }

        .answer-option {
            background: rgba(255,255,255,0.9);
            color: #2d2b55;
            border: none;
            border-radius: 15px;
            padding: 1rem 1.5rem;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }

        .answer-option:hover {
            background: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .answer-option.correct {
            background: #42b883;
            color: white;
            animation: correctAnswer 0.6s ease;
        }

        .answer-option.incorrect {
            background: #ff6b8b;
            color: white;
            animation: incorrectAnswer 0.6s ease;
        }

        .answer-option.disabled {
            pointer-events: none;
            opacity: 0.7;
        }

        .quiz-feedback {
            margin: 1.5rem 0;
            padding: 1rem;
            border-radius: 15px;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .quiz-feedback.correct {
            background: rgba(66, 184, 131, 0.2);
            color: #42b883;
            border: 2px solid #42b883;
        }

        .quiz-feedback.incorrect {
            background: rgba(255, 107, 139, 0.2);
            color: #ff6b8b;
            border: 2px solid #ff6b8b;
        }

        .quiz-result-content {
            padding: 2rem;
        }

        .result-success {
            color: #42b883;
            font-size: 1.4rem;
            margin-bottom: 1.5rem;
        }

        .result-failure {
            color: #ff6b8b;
            font-size: 1.2rem;
            margin-bottom: 1.5rem;
        }

        @keyframes correctAnswer {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        @keyframes incorrectAnswer {
            0% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
            100% { transform: translateX(0); }
        }

        /* Responsive per il quiz */
        @media (max-width: 768px) {
            .quiz-question h3 {
                font-size: 1.1rem;
            }
            
            .answer-option {
                padding: 0.8rem 1rem;
                font-size: 0.95rem;
            }
            
            .quiz-result-content {
                padding: 1rem;
            }
        }

        .letter-container {
            background: linear-gradient(135deg, #f8f4e6, #fefcf3);
            border-radius: 15px;
            padding: 2rem;
            margin: 1rem 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border: 1px solid #e8dcc0;
            position: relative;
            text-align: left;
            max-width: 600px;
            margin: 1rem auto;
        }

        .letter-container::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #ff6b8b, #7c5cff, #42b883);
            border-radius: 15px 15px 0 0;
        }

        .letter-header {
            margin-bottom: 1.5rem;
            border-bottom: 2px solid #e8dcc0;
            padding-bottom: 1rem;
        }

        .letter-date {
            font-size: 0.9rem;
            color: #8b7355;
            font-style: italic;
            margin-bottom: 0.5rem;
        }

        .letter-to {
            font-size: 1.1rem;
            color: #2d2b55;
            font-weight: 600;
        }

        .letter-body {
            line-height: 1.7;
            color: #2d2b55;
            margin-bottom: 2rem;
        }

        .letter-body p {
            margin-bottom: 1.2rem;
            font-size: 1rem;
        }

        .letter-body p:first-child {
            font-weight: 600;
        }

        .letter-signature {
            text-align: right;
            border-top: 1px solid #e8dcc0;
            padding-top: 1rem;
        }

        .signature-text {
            font-style: italic;
            color: #8b7355;
            margin-bottom: 0.5rem;
        }

        .signature-name {
            font-size: 1.2rem;
            font-weight: 700;
            color: #ff6b8b;
            font-family: 'Playfair Display', serif;
            margin-bottom: 0.5rem;
        }

        .signature-ps {
            font-size: 0.85rem;
            color: #7c5cff;
            font-style: italic;
            margin-top: 0.5rem;
        }

        /* Responsive per la lettera */
        @media (max-width: 768px) {
            .letter-container {
                padding: 1.5rem;
                margin: 1rem;
            }
            
            .letter-body p {
                font-size: 0.95rem;
            }
            
            .signature-name {
                font-size: 1.1rem;
            }
        }

        @media (max-width: 480px) {
            .letter-container {
                padding: 1rem;
            }
            
            .letter-body p {
                font-size: 0.9rem;
                margin-bottom: 1rem;
            }
        }
        
        /* Animations */
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255,255,255,0.4); }
            70% { transform: scale(1.02); box-shadow: 0 0 0 15px rgba(255,255,255,0); }
            100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255,255,255,0); }
        }
        
        @keyframes shine {
            0% { background-position: -100px; }
            100% { background-position: 200px; }
        }
        
        @keyframes heartbeat {
            0% { transform: scale(1); }
            25% { transform: scale(1.1); }
            50% { transform: scale(1); }
            75% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        @keyframes blink {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        /* Aggiungi questo alla fine del tuo CSS, prima delle media queries esistenti */

        @media (max-width: 768px) {
        
            .header-content {
                padding: 1rem;
            }
        
            .hero-img {
                width: 120px;
                height: 120px;
            }
        
            .hero-img i {
                font-size: 3rem;
            }
        
            .intro-box {
                padding: 1rem;
                margin: 1rem 0;
            }
        
            .review-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
        
            .review-card {
                width: 100%;
                margin-bottom: 1.5rem;
            }
        
            .section-title {
                font-size: 1.8rem;
                margin: 1.5rem 0;
            }
        
            .stats-container {
                flex-direction: column;
                align-items: center;
            }
        
            .stat-card {
                width: 100%;
                max-width: 100%;
                margin-bottom: 1rem;
            }
        
            .card-content {
                padding: 1.2rem;
            }
        
            .chart-container {
                height: 200px;
            }
        
            .gnome-alert {
                flex-direction: column;
                text-align: center;
            }
        
            .gnome-icon {
                margin-right: 0;
                margin-bottom: 0.5rem;
            }
        
            .polpetta-card {
                flex-direction: column;
                text-align: center;
            }
        
            .polpetta-img {
                margin-right: 0;
                margin-bottom: 1rem;
            }
        
            .container {
                padding: 1rem;
            }
        }
        
        /* Per schermi molto piccoli */
        @media (max-width: 480px) {
            .main-title {
                font-size: 8rem;
            }
        
            .card-header {
                flex-direction: column;
                text-align: center;
                padding: 1rem;
            }
        
            .card-icon {
                margin-right: 0;
                margin-bottom: 0.5rem;
            }
        
            .card-title {
                font-size: 1.3rem;
            }
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .main-title { font-size: 4.5rem; }
            .stats-container { flex-direction: column; align-items: center; }
            .stat-card { width: 100%; max-width: 300px; }
            .polpetta-card { flex-direction: column; text-align: center; }
            .polpetta-img { margin-right: 0; margin-bottom: 1rem; }
        }
        
        .polpetta-gallery {
            display: flex;
            overflow-x: auto;
            gap: 1rem;
            margin: 1.5rem 0;
            padding-bottom: 0.5rem;
            scroll-snap-type: x mandatory;
        }
        
        .gallery-item {
            min-width: 160px;
            flex: 0 0 auto;
            scroll-snap-align: start;
            text-align: center;
            background: rgba(255,255,255,0.8);
            border-radius: 15px;
            padding: 1rem;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        
        .gallery-item img {
            width: 100%;
            height: 120px;
            object-fit: cover;
            border-radius: 10px;
            margin-bottom: 0.5rem;
        }
        
        @media (max-width: 768px) {
            .polpetta-gallery {
                grid-template-columns: repeat(2, 1fr);
                gap: 0.8rem;
            }
            
            .gallery-item {
                padding: 0.8rem;
            }
            
            .gallery-item img {
                height: 100px;
            }
        }
        
        @media (max-width: 480px) {
            .polpetta-gallery {
                grid-template-columns: 1fr;
            }
        }

        .love-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin: 1.5rem 0;
        }
        
        .love-stat-item {
            background: linear-gradient(135deg, #ff9a9e, #fad0c4);
            border-radius: 15px;
            padding: 1rem;
            text-align: center;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 80px;
        }
        
        .love-icon {
            font-size: 1.8rem;
            margin-right: 0.8rem;
        }
        
        .love-number {
            font-size: 1.5rem;
            font-weight: 700;
            line-height: 1;
        }
        
        .love-label {
            font-size: 0.8rem;
            opacity: 0.9;
        }
        
        .trophy-box {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            border-radius: 20px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            text-align: center;
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.3);
        }
        
        .trophy-container {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }
        
        .trophy-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            animation: bounce 2s infinite;
        }
        
        .trophy-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: #2d2b55;
            margin-bottom: 0.5rem;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }
        
        .trophy-subtitle {
            font-size: 0.9rem;
            color: #2d2b55;
            opacity: 0.8;
        }
        
        .trophy-year {
            font-size: 0.8rem;
            color: #2d2b55;
            opacity: 0.7;
            margin-top: 0.3rem;
        }
        
        .love-alert {
            display: flex;
            align-items: center;
            background: linear-gradient(135deg, #ff6b8b, #ff9a9e);
            color: white;
            padding: 1rem;
            border-radius: 15px;
            margin: 1rem 0;
        }
        
        .alert-icon {
            font-size: 1.5rem;
            margin-right: 1rem;
            animation: pulse 1.5s infinite;
        }
        
        .alert-content strong {
            display: block;
            font-size: 1rem;
            margin-bottom: 0.3rem;
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
            60% {
                transform: translateY(-5px);
            }
        }
        
        @media (max-width: 768px) {
            .love-stats {
                grid-template-columns: 1fr;
                gap: 0.8rem;
            }
            
            .love-stat-item {
                flex-direction: column;
                text-align: center;
            }
            
            .love-icon {
                margin-right: 0;
                margin-bottom: 0.5rem;
            }
            
            .trophy-title {
                font-size: 1rem;
            }
        }
        .stats-container {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 2rem 0;
        }
        
        .asset-chart-container {
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 1.5rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            transition: transform 0.3s ease;
            width: 100%;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .asset-chart-container:hover {
            transform: translateY(-5px);
        }
        
        .asset-header {
            text-align: center;
            margin-bottom: 1rem;
        }
        
        .asset-name {
            font-size: 1.4rem;
            font-weight: 700;
            color: #2d2b55;
            margin-bottom: 0.2rem;
        }
        
        .asset-ticker {
            font-size: 0.9rem;
            color: #666;
            font-weight: 500;
            margin-bottom: 0.5rem;
        }
        
        .asset-value {
            font-size: 1.8rem;
            font-weight: 700;
            color: #2d2b55;
            margin-bottom: 0.3rem;
        }
        
        .asset-change {
            font-size: 1rem;
            color: #4cd964;
            font-weight: 600;
        }
        
        .asset-subtitle {
            font-size: 0.8rem;
            color: #666;
            opacity: 0.8;
            margin-bottom: 1rem;
        }
        
        #assetChart {
            height: 150px !important;
            width: 100% !important;
        }
        
        /* Override del review-grid nell'header per occupare tutta la larghezza */
        header .review-grid {
            grid-template-columns: 1fr;
            gap: 0;
            margin: 2rem 0;
            max-width: 100%;
        }
        
        @media (max-width: 768px) {
            .asset-chart-container {
                padding: 1rem;
                max-width: 100%;
            }
            
            .asset-name {
                font-size: 1.2rem;
            }
            
            .asset-value {
                font-size: 1.5rem;
            }
            
            #assetChart {
                height: 120px !important;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <div class="main-title">FORTIES</div>
            <div class="subtitle">40 anni di straordinarietà con Federica Barone</div>
            
            <div class="hero-img">
                <i class="fas fa-crown"></i>
            </div>
            
            <div class="intro-box">
                <p><strong>Business Review Annuale - Edizione Limitata</strong></p>
                <p>Ci siamo affidati iai migliori consulenti sul mercato per analizzare gli straordinari risultati di Federica.</p>
                <p>Quest'anno celebriamo 40 anni di straordinarietà con dati impressionanti: crescita esponenziale in dolcezza, performance record in organizzazione, e metriche di relazione amorosa da far invidia anche ai migliori romanzi Harmony.</p>
                <p>Ma 40 anni per Federica sono solo un punto di partenza per una vita che non smette di regalare emozioni! Ci aspettiamo che i numeri positivi che abbiamo analizzati continueranno a crescere costantemente nel prossimo futuro.</p>
            </div>
            
            <div class="review-grid">
                <div class="stats-container">
                    <div class="asset-chart-container">
                        <div class="asset-header">
                            <div class="asset-name">FEDERICA CORP</div>
                            <div class="asset-ticker">FEDE</div>
                            <div class="asset-value">€1.000.037.281 <span class="asset-change">+2,847.3%</span></div>
                            <div class="asset-subtitle">Valore Asset in crescita costante</div>
                        </div>
                        <div class="chart-container">
                            <canvas id="assetChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    
    <div class="container">
        <h2 class="section-title">Analisi dei Dipartimenti</h2>
        
        <div class="review-grid">
            <div class="review-card">
                <div class="card-content" style="text-align:center; font-style:italic">
                    <div class="title">Abbiamo chiesto ai nostri Dipartimenti di analizzare le aree comportamentali e caratteriali di rilevanza strategica, e abbiamo dimostrato che negli ultimi 40 anni Federica si è affermata con decisione come Leader del settore.</div>
            </div>
        </div>

        <h2 class="section-title">Skill & Personal Performance</h2>

            <!-- Pianificazione Viaggi -->
            <div class="review-card">
                <div class="card-header">
                    <div class="card-icon">✈️</div>
                    <div class="card-title">Pianificatrice di Viaggi</div>
                </div>
                <div class="card-content">
                    <p>Strategia di esplorazione globale ad alta intensità e lunga durata.</p>
                    <div class="badge">16 viaggi in 4 anni</div>
                    <div class="chart-container">
                        <canvas id="travelChart"></canvas>
                    </div>
                    <ul>
                        <li>Nuovo record durata viaggio: 26 giorni in Cina</li>
                        <li>Non si prevede relax nei suoi viaggi</li>
                        <li>Tasso di risparmio rispetto alla media di mercato: 56%</li>
                        <li>Media chilometri giornalieri in territorio estero in aumento</li>
                    </ul>

                    <div class="anecdote">
                        <div class="anecdote-title"><i class="fas fa-globe-asia"></i> Turista per sempre</div>
                        <p>Mentre altri pianificano weekend al mare con difficoltà, Federica pianifica intere vacanze con mesi di anticipo. Gli obiettivi a lungo termine sono chiari e e ben definiti: visitare tutti i paesi del mondo. Con una media di 4 viaggi all'anno e permanenze che vanno da 1 giorno (Milano express) a 26 giorni (viaggio di nozze in Cina), i dati dimostrano il costante impegno ed efficienza organizzativa di Federica nel provvedere al fabbisogno esplorativo di coppia.</p>
                    </div>
                </div>
            </div>
            
            <!-- Organizzazione -->
            <div class="review-card">
                <div class="card-header">
                    <div class="card-icon">📅</div>
                    <div class="card-title">Organizzazione</div>
                </div>
                <div class="card-content">
                    <p>Sistema di gestione temporale di precisione militare.</p>
                    <div class="badge">Pianificato fino al: 2042</div>
                    <div class="chart-container">
                        <canvas id="orgChart"></canvas>
                    </div>
                    <ul>
                        <li>Agenda sincronizzata al secondo</li>
                        <li>Weekend prenotati fino alla pensione</li>
                        <li>Allocazione risorse ottimale</li>
                        <li>Margine di flessibilità: 0.0001%</li>
                    </ul>
                    
                    <div class="world-record">
                        ⏱️ Record Mondiale: 6 mesi di weekend pianificati in 30 minuti ⏱️
                    </div>
                    
                    <div class="anecdote">
                        <div class="anecdote-title"><i class="fas fa-calendar-check"></i> Strategia a lungo termine</div>
                        <p>Le persone hanno difficoltà a tenere la propria agenda settimanale aggiornata, Federica invece ha già stabilito come verranno utilizzati tutti i weekend fino al 2042. Ha già prenotato il treno per Torino di Maggio 2033. "Libero" è solo una parola nel dizionario.</p>
                    </div>
                </div>
            </div>
            
            <!-- Animal Lover -->
            <div class="review-card">
                <div class="card-header">
                    <div class="card-icon">🐾</div>
                    <div class="card-title">Animal Lover</div>
                </div>
                <div class="card-content">
                    <p>Dipartimento relazioni con la fauna.</p>
                    <div class="badge">Ampio raggio d'azione</div>
                    <div class="chart-container">
                        <canvas id="animalChart"></canvas>
                    </div>
                    <ul>
                        <li>Specializzazione in animali con "manine"</li>
                        <li>Attrazione irresistibile verso artigli di 30cm</li>
                        <li>Algoritmo Instagram: archivio WWF non ufficiale</li>
                    </ul>
                    
                    <div class="skills-container">
                        <div class="skill"><i class="fas fa-paw"></i> Topi</div>
                        <div class="skill"><i class="fas fa-paw"></i> Gatti</div>
                        <div class="skill"><i class="fas fa-paw"></i> Panda</div>
                        <div class="skill"><i class="fas fa-paw"></i> Orsetti</div>
                    </div>
                    <div class="anecdote">
                        <div class="anecdote-title"><i class="fas fa-dog"></i> Impossibile non toccare gli animali sellvatici</div>
                        <p>Il motto di Federica è "non esistono animali che non si possono accarezzare". Alcuni esseri viventi hanno degli effetti particolari su di lei: gli alpaca suscitano raptus strangolatori, i roditori scatenano la sua voglia di stringerli tra le dita, le scimmie le fanno venire da piangere. </p>
                    </div>
                </div>
            </div>
        </div>

        
        
        <h2 class="section-title">Performance Fisica & Sociale</h2>
        
        <div class="review-grid">
            <!-- Tosta e Forsuta -->
            <div class="review-card">
                <div class="card-header">
                    <div class="card-icon">💪</div>
                    <div class="card-title">Tosta e Forsuta</div>
                </div>
                <div class="card-content">
                    <p>Dipartimento Salute e Addominali</p>
                    <div class="badge">Obiettivo 2026: Physical 100</div>
                    <div class="chart-container">
                        <canvas id="fitnessChart"></canvas>
                    </div>
                    <ul>
                        <li>Specializzazione in chiusura anelli Apple Watch</li>
                        <li>Cacciatrice di medaglie digitali</li>
                        <li>Aspirazione Gym Mommy</li>
                        <li>Rivalità storica con macchinario hip thrust</li>
                    </ul>
                    
                    <div class="anecdote">
                        <div class="anecdote-title"><i class="fas fa-dumbbell"></i> Guerra all'Hip Thrust</div>
                        <p>Il macchinario per gli hip thrust in palestra ha sempre rappresentato il nemico pubblico numero 1 per Federica. Anche se il suo approccio iniziale con l'aggeggio infernale è stato fallimentare, grazie all'azione di convincimento dell suo personal trainer, finalmente il bacino ha iniziato a muoversi sotto le pesanti braccia meccaniche. "Un giorno dominerò questo aggeggio", dice Federica a denti stretti mentre i suoi glutei lottano contro la sua nemesi.</p>
                    </div>
                </div>
            </div>
            
            <!-- Dolcezza -->
            <div class="review-card">
                <div class="card-header">
                    <div class="card-icon">💖</div>
                    <div class="card-title">Dolcezza Infinita</div>
                </div>
                <div class="card-content">
                    <p>Risorsa inesauribile di affetto e supporto emotivo.</p>
                    <div class="badge">Livello: Migliore compagna di vita</div>
                    <div class="chart-container">
                        <canvas id="sweetChart"></canvas>
                    </div>
                    <ul>
                        <li>Capacità di migliorare qualsiasi situazione</li>
                        <li>Supporto emotivo fuori scala</li>
                        <li>Risorse affettive illimitate</li>
                        <li>Capacità infermieristiche livello E.R.</li>
                    </ul>
                    <div class="quote">
                        "A mani basse, la risorsa più preziosa di cui possiamo vantarci"
                        <strong>- Giuseppe</strong>
                    </div>
                    
                    <div class="anecdote">
                        <div class="anecdote-title"><i class="fas fa-heart"></i> Potere trasformativo</div>
                        <p>Secondo la testimonianza di Giuseppe, P&C (Partner and Companionship) Manager, lavorare con Federica è un'esperienza incredibile e senza pari. Non esiste giorno in cui Federica non allieta le giornate dei suoi maggiori stakeholer (Giuseppe e Polpetta). Grazie all'enorme quantità di attenzione e cura che Federica ripone nei confronti dei pochi (pochissimi!) esseri viventi a cui tiene, rende la vita di chi le sta intorno gioiosa e ricca di emozioni positive.</p>
                    </div>
                </div>
            </div>
            
            <!-- Giovinezza Perpetua -->
            <div class="review-card">
                <div class="card-header">
                    <div class="card-icon">✨</div>
                    <div class="card-title">Giovinezza Perpetua</div>
                </div>
                <div class="card-content">
                    <p>Dipartimento R&D per l'anti-invecchiamento con risultati straordinari.</p>
                    <div class="badge">Aspetto: Perenne liceale</div>
                    <div class="chart-container">
                        <canvas id="ageChart"></canvas>
                    </div>
                    <ul>
                        <li>Tecnologia brevettata di conservazione giovanile</li>
                        <li>Scambiata regolarmente per liceale</li>
                        <li>Algoritmo di ringiovanimento visivo</li>
                        <li>Frase tipica: "Bambina, dove sono i tuoi genitori?"</li>
                    </ul>
                    
                    <div class="anecdote">
                        <div class="anecdote-title"><i class="fas fa-flask"></i> Segreto svelato</div>
                        <p>Gli scienziati hanno cercato di scoprire il segreto della giovinezza perpetua di Federica. Dopo anni di ricerche, hanno concluso che deve trattarsi du una combinazione di kimchi, pisolini sul divano e carezze rilassanti al proprio bellissimo cane.</p>
                    </div>
                </div>
            </div>
            
        </div>
        
        <h2 class="section-title">Sicurezza & Sistema</h2>
        
        <div class="review-grid">
            <!-- Goffa e Pericolosa -->
            <!-- Gnomizzazione -->
            <div class="review-card">
                <div class="card-header">
                    <div class="card-icon">🧙‍♀️</div>
                    <div class="card-title">Protocollo G.N.O.M.O.</div>
                </div>
                <div class="card-content">
                    <p>Gestione Nevrosi Ordinaria per il Monitoraggio delle Ostilità</p>
                    <div class="badge">Efficacia: 100%</div>
                    <div class="chart-container">
                        <canvas id="gnomeChart"></canvas>
                    </div>
                    <ul>
                        <li>Eventi registrati nel 2024: 23</li>
                        <li>Livello medio di gnomizzazione: 7.2/10</li>
                        <li>Tempo di recupero medio: 47 minuti</li>
                        <li>Segni di riconoscimento: piedi larghi e tremore</li>
                        <li>Efficacia del protocollo: in testing</li>
                    </ul>
                    
                    <div class="gnome-alert">
                        <div class="gnome-icon">
                            <img src="src/gnome-silhouette.svg" alt="Gnomo" class="gnome-svg-icon">
                        </div>
                        <div class="gnome-text">
                            <strong>Allerta Gnomizzazione</strong>
                            <div>Livello attuale: <span class="gnome-level">Livello 3 - Pericolo Imminente</span></div>
                            <small>Ultimo evento: Modifica programma pre-matrimonio</small>
                        </div>
                    </div>
                    
                    <div class="anecdote">
                        <div class="anecdote-title"><i class="fas fa-exclamation-circle"></i> Incidente critico</div>
                        <p>"Non era previsto!" - Grida sentite durante l'incidente di gnomizzazione pre-matrimonio, quando un piccolo cambio di programma (incontro con i genitori dello sposo non correttamente comunicato con giusto anticipo) ha scatenato una reazione a catena di livello 3. Secondo i testimoni dell'evento, per un soffio non è stata superata la soglia critica.</p>
                        <p>Attualmente, sono in sperimentazione delle tattiche di mitigazione degli effetti dirompenti degli Eventi GNOMO di livello 3 o superiore (per ora non ancora mai registrato). Tali metodi comprendono: merenda contenitiva, distrazione con video di gatti, e l'uso immediato "cane da compagnia" per ridurre il livello di stress.</p>
                        </p>
                    </div>
                </div>
            </div>

            <div class="review-card">
                <div class="card-header">
                    <div class="card-icon">⚠️</div>
                    <div class="card-title">Goffa e Pericolosa</div>
                </div>
                <div class="card-content">
                    <p>Unita operativa ad alto rischio con misteri irrisolti.</p>
                    <div class="badge">Sopravvivenza: inspiegabile</div>
                    <div class="chart-container">
                        <canvas id="incidentsChart"></canvas>
                    </div>
                    <ul>
                        <li>Eventi avversi: testate ad ambasciate</li>
                        <li>Creazione panico con minimo sforzo</li>
                        <li>Resistenza fisica oltre ogni previsione scientifica</li>
                    </ul>
                    <div class="quote">
                        "La scienza non ha ancora spiegato come sia ancora in vita"
                        <strong>- Alcuni scienziati</strong>
                    </div>
                    
                    <div class="anecdote">
                        <div class="anecdote-title"><i class="fas fa-ambulance"></i> Incidente diplomatico</div>
                        <p>La linea separatrice tra incidente di percorso e incidente diplomantico è molto sottile. Federica è stata al centro di un evento che ha lasciato il segno, sia sul suo naso, che sul muro esterno della sede di una conosciuta ambasciata estera. A causarlo un errore di calcolo fatale: quel piede non doveva trovarsi lì in quel momento.</p>
                    
                    </div>
                    
                    <div class="skills-container">
                        <div class="skill"><i class="fas fa-exclamation-triangle"></i> Goffaggine</div>
                        <div class="skill"><i class="fas fa-radiation"></i> Pericolosità</div>
                        <div class="skill"><i class="fas fa-shield-alt"></i> Sopravvivenza</div>
                    </div>
                </div>
            </div>

            <h2 class="section-title">Relazioni amorose e sentimentali</h2>

            <!-- Relazione Giuseppe & Federica -->
            <div class="review-card">
                <div class="card-header">
                    <div class="card-icon">💕</div>
                    <div class="card-title">Dipartimento Relazioni Amorose</div>
                </div>
                <div class="card-content">
                    <p>Analisi delle performance relazionali con crescita esponenziale dal 2021.</p>
                    <div class="badge">Status: Coppia del Secolo</div>
                    <div class="chart-container">
                        <canvas id="loveChart"></canvas>
                    </div>
                    
                    <div class="love-stats">
                        <div class="love-stat-item">
                            <div class="love-icon">💋</div>
                            <div class="love-data">
                                <div class="love-number">∞</div>
                                <div class="love-label">Baci all'ora (2024)</div>
                            </div>
                        </div>
                        <div class="love-stat-item">
                            <div class="love-icon">👃</div>
                            <div class="love-data">
                                <div class="love-number">847</div>
                                <div class="love-label">Soffi nel naso/mese</div>
                            </div>
                        </div>
                        <div class="love-stat-item">
                            <div class="love-icon">🤗</div>
                            <div class="love-data">
                                <div class="love-number">24/7</div>
                                <div class="love-label">Coccole disponibili</div>
                            </div>
                        </div>
                    </div>

                    <div class="trophy-box">
                        <div class="trophy-container">
                            <div class="trophy-icon">🏆</div>
                            <div class="trophy-content">
                                <div class="trophy-title">PREMIO MIGLIOR COPPIA DEL SECOLO</div>
                                <div class="trophy-subtitle">Categoria: Dolcezza Infinita</div>
                                <div class="trophy-year">2021-∞</div>
                            </div>
                        </div>
                    </div>
                    
                    <ul>
                        <li>Crescita baci: +2847% dal primo incontro</li>
                        <li>Livello di compatibilità: inspiegabile</li>
                        <li>Tempo medio senza bacini: 3.7 secondi</li>
                        <li>Resistenza ai litigi: Adamantio</li>
                    </ul>
                    
                    <div class="anecdote">
                        <div class="anecdote-title"><i class="fas fa-heartbeat"></i> Crescita esponenziale</div>
                        <p>Dal 2021, anno zero dell'era Giuseppe-Federica, si è registrato un aumento costante di effusioni amorose, coccole e momenti di tenerezza. Gli esperti confermano: "Non abbiamo mai visto nulla del genere". A seguito di un'intervista condotta su entrambi i membri della coppia, è emerso che nessuno dei due riesce a spiegarsi per quale motivo siano rimasti con i propri rispettivi ex per così tanto tempo.</p>
                    </div>
                </div>
            </div>

            <h2 class="section-title">Stakeholder review</h2>
            <!-- TIP1 -->
            <div class="review-card">
                <div class="card-content" style="text-align:center;">
                    <div class="polpetta-title">La Voce di Polpetta</div>
                    <img src="src/Cane - Polpetta (2).png" alt="Polpetta 1" style="max-width:220px; width:100%; border-radius:18px; margin-bottom:1rem;">
                    <div class="quote">"Federica è una ragazza adorabile, e le auguro di passare un bellissimo compleanno (anche se non ho capito perché mi ha lasciata sola con la nonna). Mi piace quando mi porta in giro, soprattutto al parco. A volte però mi tocca subire delle ispezioni, ma sempre meglio quelle che farmi tagliare le unghie!"</div>
                </div>
            </div>

            <!-- Lettera giuseppe -->
            <div class="review-card">
                <div class="card-content" style="text-align:center;">
                    <div class="polpetta-title">Una Lettera per Te</div>
                    <img src="src/Giuseppe.png" alt="Giuseppe" style="max-width:220px; width:100%; border-radius:18px; margin-bottom:1rem;" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                    <div style="display:none; width:220px; height:220px; background:linear-gradient(135deg, #7c5cff, #ff6b8b); border-radius:18px; margin:0 auto 1rem; align-items:center; justify-content:center; color:white; font-size:4rem;">
                        👨‍💻
                    </div>
                    
                    <div class="letter-container">
                        <div class="letter-header">
                            <div class="letter-date">12 Giugno 2025</div>
                            <div class="letter-to">Buon compleanno Amore mio!</div>
                        </div>
                        
                        <div class="letter-body">
                            <p>Cara Federica,</p>
                            <p>Mentre scrivo questa lettera per celebrare i tuoi magnifici 40 anni, non posso fare a meno di sorridere pensando a tutti i momenti incredibili che staremo vivendo insieme in questo fantastico viaggio.</p>
                            <p>Grazie per essere la compagna perfetta per tutte le nostre avventure, da quelle più grandi a quelle più piccole, ma tutte preziose allo stesso modo.</p>
                            <p>Spero che questa giornata passata a divertirci possa restare per sempre nella nostra memoria come uno dei tanti, tantissimi momenti felici insieme.</p>
                            <p>E chissà quante altre cose belle ci aspettano!</p>
                            <p>Che questi 40 anni siano solo l'inizio di una vita ancora più bella. Ti amo (anche da gnomo) sempre di più.</p>
                            <p>AUGURI!!!</p>
                        </div>
                        
                        <div class="letter-signature">
                            <div class="signature-text">Con tutto il mio amore,</div>
                            <div class="signature-name">Giuseppe ❤️</div>
                            <div class="signature-ps">P.S. Polpetta approva questo messaggio! 🐾</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <footer>
        <div class="footer-content">
            <div class="conclusion">
                Analisi Finale: Asset Inestimabile <i class="fas fa-heart heart"></i>
            </div>
            <div>
                <img src="src/torta.png" alt="torta" style="max-width:220px; width:100%; border-radius:18px; margin:-3em;">
            </div>
            <p>Federica Corp. rappresenta un modello aziendale unico con prestazioni eccezionali in tutti i dipartimenti. La sua combinazione unica di competenze, caratteristiche e valori la rendono una risorsa insostituibile.</p>
            <p>Dopo 40 anni di straordinarietà, possiamo confermare che il trend è destinato a continuare con crescita esponenziale in tutte le metriche rilevanti, soprattutto in dolcezza e capacità relazionali. Consigliamo di rivedere ill protocollo G.N.O.M.O. per rendere ancora più efficaci le procedure di contenimento di outburst emotivi.</p>
            
            <!-- Sezione Regalo -->
            <div class="gift-section">
                <div class="gift-title">🎁 Quiz Speciale di Compleanno 🎁</div>
                <p>Rispondi correttamente a tutte le domande per sbloccare il tuo regalo!</p>
                
                <!-- Schermata iniziale -->
                <div id="quizStart" class="quiz-screen">
                    <div class="quiz-intro">
                        <p>Preparati per il quiz più importante della tua vita! 5 domande per dimostrare quanto conosci te stessa (e noi).</p>
                        <button onclick="startQuiz()" class="gift-button">🚀 Inizia Quiz</button>
                    </div>
                </div>
                
                <!-- Schermata quiz -->
                <div id="quizGame" class="quiz-screen" style="display: none;">
                    <div class="quiz-progress">
                        <div class="progress-bar">
                            <div id="progressFill" class="progress-fill"></div>
                        </div>
                        <div class="progress-text">Domanda <span id="currentQuestion">1</span> di 5</div>
                    </div>
                    
                    <div class="quiz-question">
                        <h3 id="questionText"></h3>
                        <div id="answerOptions" class="answer-options"></div>
                    </div>
                    
                    <div class="quiz-feedback" id="feedbackMessage" style="display: none;"></div>
                </div>
                
                <!-- Schermata risultati -->
                <div id="quizResults" class="quiz-screen" style="display: none;">
                    <div class="quiz-result-content">
                        <div id="resultMessage"></div>
                        <button onclick="resetQuiz()" class="gift-button">🔄 Riprova</button>
                    </div>
                </div>
            </div>
            
            <div class="copyright">
                © 2025 FORTIES - 40 anni di Straordinareità di Federica Corp. Tutti i diritti riservati alla persona più straordinaria del mondo.
            </div>
        </div>
    </footer>

    <!-- Overlay Regalo -->
    <div id="giftOverlay" class="gift-overlay" style="display: none;">
        <div class="gift-content">
            <div class="boarding-pass-container">
                <img src="src/boarding-pass.png" alt="Boarding Pass" class="boarding-pass">
            </div>
            
            <!-- Nuova sezione ticket -->
            <div class="tickets-container">
                <div class="ticket-stack">
                    <img src="src/ticket-hamilton.png" alt="Ticket 1" class="ticket ticket-1">
                    <img src="src/ticket-hp.png" alt="Ticket 2" class="ticket ticket-2">

                </div>
            </div>
            
            <div class="gift-message">
                <h2>✨ Complimenti! ✨</h2>
                <p>La tua incredibile performance merita di essere premiata.<br>
                Hai vinto <strong>volo a Londra + due biglietti gratis</strong> per gli spettacoli di Hamilton e Harry Potter: the Cursed Child da riscattare quando vuoi!</p>
                <button onclick="closeGift()" class="close-gift-btn">Chiudi</button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Configurazione per l'animazione dei grafici quando entrano nel viewport
            const chartObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const chartId = entry.target.querySelector('canvas').id;
                        initializeChart(chartId);
                        chartObserver.unobserve(entry.target);
                    }
                });
            }, {
                threshold: 0.3 // Il grafico si anima quando è visibile al 30%
            });

            // Osserva tutti i container dei grafici
            document.querySelectorAll('.chart-container').forEach(container => {
                chartObserver.observe(container);
            });

            // Funzione per inizializzare i singoli grafici
            function initializeChart(chartId) {
                const ctx = document.getElementById(chartId).getContext('2d');
                
                // Configurazione base per l'animazione
                const animationConfig = {
                    duration: 1500,
                    easing: 'easeOutQuart'
                };

                switch(chartId) {

                    case 'gnomeChart':
                        new Chart(ctx, {
                            type: 'bar',
                            data: {
                                labels: [
                                    'Cambio Programma\nPre-Matrimonio', 
                                    'Cellulare del lavoro\nPerso', 
                                    'Conversazione con\nDaniele', 
                                    'Fame\nImprovvisa',
                                    'Spostamento oggetto\nNon autorizzato',
                                    'Dimenticanza\nMarito'
                                ],
                                datasets: [{
                                    label: 'Livello di Gnomizzazione (1-10)',
                                    data: [10, 6, 8, 5, 9, 4],
                                    backgroundColor: [
                                        '#ff3860', '#ff6b8b', '#ff4757', '#ffa502', '#ff3860', '#ff9a9e'
                                    ],
                                    borderColor: '#fff',
                                    borderWidth: 2,
                                    borderRadius: 8,
                                    borderSkipped: false,
                                }]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                animation: {
                                    ...animationConfig,
                                    delay: (context) => {
                                        return context.dataIndex * 200;
                                    }
                                },
                                plugins: {
                                    legend: { display: false },
                                    tooltip: {
                                        backgroundColor: 'rgba(45, 43, 85, 0.9)',
                                        titleColor: '#fff',
                                        bodyColor: '#fff',
                                        borderColor: '#ff6b8b',
                                        borderWidth: 1,
                                        callbacks: {
                                            afterLabel: function(context) {
                                                const level = context.parsed.y;
                                                if (level >= 8) return '🚨 EMERGENZA GNOMO!';
                                                if (level >= 6) return '⚠️ Allerta Moderata';
                                                if (level >= 4) return '📢 Attenzione';
                                                return '😌 Situazione Gestibile';
                                            }
                                        }
                                    }
                                },
                                scales: {
                                    y: { 
                                        beginAtZero: true,
                                        max: 10,
                                        title: { display: true, text: 'Intensità Gnomizzazione', color: '#2d2b55', font: { weight: 'bold', size: 12 } },
                                        ticks: {
                                            color: '#2d2b55',
                                            stepSize: 1,
                                            callback: function(value) {
                                                const labels = {
                                                    0: '😐', 1: '😐 Minima', 2: '😐', 3: '😟 Lieve', 4: '😟',
                                                    5: '😠 Media', 6: '😠', 7: '🤬 Alta', 8: '🤬',
                                                    9: '🧙‍♀️ CRITICA', 10: '🧙‍♀️ MASSIMA'
                                                };
                                                return labels[value] || '';
                                            },
                                            font: { size: 10 }
                                        },
                                        grid: { color: 'rgba(255, 107, 139, 0.1)' }
                                    },
                                    x: {
                                        title: { display: true, text: 'Eventi Scatenanti', color: '#2d2b55', font: { weight: 'bold', size: 12 } },
                                        ticks: {
                                            color: '#2d2b55',
                                            maxRotation: 0,
                                            minRotation: 45,
                                            font: { size: 9 },
                                            callback: function(value, index) {
                                                const label = this.getLabelForValue(value);
                                                return label.split('\n');
                                            }
                                        },
                                        grid: { display: false }
                                    }
                                }
                            }
                        });
                        break;

                    case 'cupsChart':
                        new Chart(ctx, {
                            type: 'doughnut',
                            data: {
                                labels: ['Sopravvissute', 'Vittime'],
                                datasets: [{
                                    data: [14, 10],
                                    backgroundColor: ['#42b883', '#ff6b8b'],
                                    borderWidth: 0
                                }]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                cutout: '70%',
                                animation: animationConfig,
                                plugins: {
                                    legend: { 
                                        display: true,
                                        position: 'bottom',
                                        labels: { padding: 15, usePointStyle: true }
                                    }
                                }
                            }
                        });
                        break;

                        
                    case 'travelChart':
                        new Chart(ctx, {
                            type: 'bar',
                            data: {
                                labels: [
                                    'Grecia 2021', 'Francia 2021', 'Francia 2022', 'Trentino 2022', 
                                    'Portogallo 2022', 'Scozia 2023', 'Briganti 2023', 'Oulx 2023', 
                                    'Giordania 2023', 'Norvegia 2024', 'Inghilterra 2024', 'Tenerife 2024', 
                                    'Oman 2025', 'Milano 2025', 'Slovenia 2025', 'Cina 2025'
                                ],
                                datasets: [{
                                    label: 'Durata viaggi (giorni)',
                                    borderRadius: 4,
                                    data: [4, 2, 4, 18, 2, 8, 7, 6, 8, 10, 6, 4, 7, 1, 7, 26],
                                    backgroundColor: [
                                        '#ff6b8b', '#42b883', '#42b883', '#ffd93b', '#b084ff', 
                                        '#7c5cff', '#34aaff', '#ffa559', '#2d2b55', '#4cd964', 
                                        '#ff9a9e', '#fad0c4', '#ffb347', '#87ceeb', '#98fb98', '#ff6347'
                                    ]
                                }]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                animation: animationConfig,
                                plugins: { legend: { display: true, position: 'top' } },
                                scales: {
                                    y: { beginAtZero: true, title: { display: true, text: 'Giorni' } },
                                    x: {
                                        title: { display: true, text: 'Viaggi per anno' },
                                        ticks: { maxRotation: 45, minRotation: 45 }
                                    }
                                }
                            }
                        });
                        break;

                    case 'assetChart':
                        new Chart(ctx, {
                            type: 'line',
                            data: {
                                labels: ['', '', '', '', '', '', '', '', '', '', '', ''], // Labels vuote
                                datasets: [{
                                    data: [1, 1.2, 1.8, 2.1, 3.5, 4.2, 5.8, 7.3, 9.1, 12.4, 18.7, 28.47],
                                    borderColor: '#4cd964',
                                    backgroundColor: 'rgba(76, 217, 100, 0.1)',
                                    borderWidth: 3,
                                    fill: true,
                                    tension: 0.4,
                                    pointRadius: 0,
                                    pointHoverRadius: 0,
                                    pointHitRadius: 0
                                }]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                animation: {
                                    duration: 2000,
                                    easing: 'easeOutQuart'
                                },
                                plugins: {
                                    legend: { 
                                        display: false 
                                    },
                                    tooltip: { 
                                        enabled: false 
                                    }
                                },
                                interaction: {
                                    intersect: false,
                                    mode: 'index'
                                },
                                scales: {
                                    x: {
                                        display: false,
                                        grid: { 
                                            display: false 
                                        }
                                    },
                                    y: {
                                        display: false,
                                        grid: { 
                                            display: false 
                                        },
                                        beginAtZero: true
                                    }
                                },
                                elements: {
                                    point: {
                                        radius: 0
                                    }
                                }
                            }
                        });
                        break;

                    case 'orgChart':
                        new Chart(ctx, {
                            type: 'line',
                            data: {
                                labels: ['2024', '2026', '2028', '2030', '2032', '2042'],
                                datasets: [{
                                    label: 'Weekend prenotati',
                                    data: [52, 48, 32, 38, 45, 39],
                                    backgroundColor: 'rgba(124,92,255,0.08)',
                                    borderColor: '#7c5cff',
                                    fill: true,
                                    tension: 0.3
                                }]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                animation: animationConfig,
                                plugins: { legend: { display: true, position: 'top' } },
                                scales: {
                                    y: { beginAtZero: true, title: { display: true, text: 'Numero weekend' } },
                                    x: { title: { display: true, text: 'Anno' } }
                                }
                            }
                        });
                        break;

                    case 'animalChart':
                        new Chart(ctx, {
                            type: 'pie',
                            data: {
                                labels: ['Topi', 'Gatti', 'Cani', 'Panda', 'Procioni'],
                                datasets: [{
                                    data: [25, 20, 30, 10, 15],
                                    backgroundColor: ['#ffd93b', '#b084ff', '#42b883', '#ff6b8b', '#7c5cff']
                                }]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                animation: animationConfig,
                                plugins: {
                                    legend: { 
                                        display: true,
                                        position: 'bottom',
                                        labels: { padding: 15, usePointStyle: true }
                                    }
                                }
                            }
                        });
                        break;

                    case 'fitnessChart':
                        new Chart(ctx, {
                            type: 'bar',
                            data: {
                                labels: ['Anelli chiusi/settimana', 'Medaglie Apple Watch', 'Hip Thrust/allenamento', 'Workout al mese'],
                                datasets: [{
                                    label: 'Performance',
                                    borderRadius: 8,
                                    data: [21, 34, 2, 28],
                                    backgroundColor: ['#4cd964', '#ff6b8b', '#7c5cff', '#42b883']
                                }]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                animation: animationConfig,
                                plugins: { legend: { display: true, position: 'top' } },
                                scales: { 
                                    y: { beginAtZero: true, title: { display: true, text: 'Valori' } },
                                    x: { title: { display: true, text: 'Categorie' } }
                                }
                            }
                        });
                        break;

                    case 'sweetChart':
                        new Chart(ctx, {
                            type: 'radar',
                            data: {
                                labels: ['Creatività', 'Coccolosità', 'Motivazione', 'Pazienza', 'Empatia', 'Affidabilità'],
                                datasets: [{
                                    label: 'Livello',
                                    data: [99, 100, 97, 1, 54, 98],
                                    backgroundColor: 'rgba(255,107,139,0.19)',
                                    borderColor: '#ff6b8b'
                                }]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                animation: animationConfig,
                                plugins: { legend: { display: true, position: 'top' } },
                                scales: {
                                    r: { 
                                        beginAtZero: true, 
                                        max: 100,
                                        title: { display: true, text: 'Percentuale' }
                                    }
                                }
                            }
                        });
                        break;

                    case 'ageChart':
                        new Chart(ctx, {
                            type: 'line',
                            data: {
                                labels: ['2014', '2018', '2022', '2025'],
                                datasets: [{
                                    label: 'Apparenza anagrafica',
                                    data: [25, 21, 19, 18],
                                    backgroundColor: 'rgba(255,217,59,0.12)',
                                    borderColor: '#ffd93b',
                                    tension: 0.3
                                }]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                animation: animationConfig,
                                plugins: { legend: { display: true, position: 'top' } },
                                scales: {
                                    y: {
                                        min: 16, max: 26, reverse: true,
                                        title: { display: true, text: 'Età apparente' }
                                    },
                                    x: { title: { display: true, text: 'Anno' } }
                                }
                            }
                        });
                        break;

                    case 'systemChart':
                        new Chart(ctx, {
                            type: 'pie',
                            data: {
                                labels: ['Regole Seguite', 'Regole Infrante'],
                                datasets: [{
                                    data: [2, 98],
                                    backgroundColor: ['#4cd964', '#ff6b8b']
                                }]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                animation: animationConfig,
                                plugins: {
                                    legend: { 
                                        display: true,
                                        position: 'bottom',
                                        labels: { padding: 15, usePointStyle: true }
                                    }
                                }
                            }
                        });
                        break;
// ...existing code... (all'interno del switch statement)

                    case 'incidentsChart':
                        new Chart(ctx, {
                            type: 'bar',
                            data: {
                                labels: [
                                    'Caduta al Parco\ndi Bomarzo', 
                                    'Inciampo parcheggio\nLago di Tovel', 
                                    'Testata ad\nAmbasciata',
                                    'Incidente generico\nannuale'
                                ],
                                datasets: [
                                    {
                                        label: 'Livello di Incidente (1-10)',
                                        data: [8, 6, 9, 7],
                                        backgroundColor: [
                                            '#ff4757', // Rosso per Bomarzo
                                            '#ffa502', // Arancione per Tovel
                                            '#ff3742', // Rosso intenso per ambasciata
                                            '#ff6b6b'  // Rosa-rosso per generico
                                        ],
                                        borderColor: '#fff',
                                        borderWidth: 1,
                                        borderRadius: 8,
                                        yAxisID: 'y'
                                    },
                                    {
                                        label: 'Rischio di Morte (%)',
                                        data: [85, 40, 95, 60],
                                        backgroundColor: [
                                            'rgba(139, 69, 19, 0.8)', // Marrone scuro per Bomarzo
                                            'rgba(255, 140, 0, 0.8)', // Arancione scuro per Tovel
                                            'rgba(128, 0, 0, 0.8)',   // Rosso scuro per ambasciata
                                            'rgba(169, 169, 169, 0.8)' // Grigio per generico
                                        ],
                                        borderColor: '#fff',
                                        borderWidth: 1,
                                        borderRadius: 8,
                                        yAxisID: 'y1'
                                    }
                                ]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                animation: {
                                    ...animationConfig,
                                    delay: (context) => {
                                        return context.dataIndex * 300;
                                    }
                                },
                                plugins: {
                                    legend: { 
                                        display: true,
                                        position: 'top',
                                        labels: {
                                            padding: 20,
                                            usePointStyle: true,
                                            font: {
                                                size: 11
                                            }
                                        }
                                    },
                                    tooltip: {
                                        backgroundColor: 'rgba(45, 43, 85, 0.95)',
                                        titleColor: '#fff',
                                        bodyColor: '#fff',
                                        borderColor: '#ff4757',
                                        borderWidth: 2,
                                        cornerRadius: 10,
                                        callbacks: {
                                            afterLabel: function(context) {
                                                if (context.datasetIndex === 0) {
                                                    const level = context.parsed.y;
                                                    if (level >= 8) return '💀 PERICOLO ESTREMO!';
                                                    if (level >= 6) return '⚠️ Rischio Alto';
                                                    if (level >= 4) return '😰 Attenzione';
                                                    return '😅 Incidente Lieve';
                                                } else {
                                                    const risk = context.parsed.y;
                                                    if (risk >= 80) return '☠️ QUASI FATALE';
                                                    if (risk >= 60) return '🚨 Molto Pericoloso';
                                                    if (risk >= 40) return '⚠️ Rischioso';
                                                    return '😌 Sopravvivibile';
                                                }
                                            }
                                        }
                                    }
                                },
                                interaction: {
                                    mode: 'index',
                                    intersect: false,
                                },
                                scales: {
                                    x: {
                                        title: { 
                                            display: true, 
                                            text: 'Tipologia di Incidente', 
                                            color: '#2d2b55', 
                                            font: { weight: 'bold', size: 12 } 
                                        },
                                        ticks: {
                                            color: '#2d2b55',
                                            stepSize: 1,
                                            autoSkip: false,
                                            maxRotation: 20,
                                            minRotation: 0,
                                            font: { size: 9 },
                                            callback: function(value, index) {
                                                const label = this.getLabelForValue(value);
                                                return label.split('\n');
                                            }
                                        },
                                        grid: { display: false }
                                    },
                                    y: {
                                        type: 'linear',
                                        display: true,
                                        position: 'left',
                                        beginAtZero: true,
                                        max: 10,
                                        title: { 
                                            display: true, 
                                            text: 'Gravità Incidente (1-10)', 
                                            color: '#ff4757', 
                                            font: { weight: 'bold', size: 11 } 
                                        },
                                        ticks: {
                                            color: '#ff4757',
                                            stepSize: 2,
                                            font: { size: 10 }
                                        },
                                        grid: { 
                                            color: 'rgba(255, 71, 87, 0.1)',
                                            drawOnChartArea: true,
                                        }
                                    },
                                    y1: {
                                        type: 'linear',
                                        display: true,
                                        position: 'right',
                                        beginAtZero: true,
                                        max: 100,
                                        title: { 
                                            display: true, 
                                            text: 'Rischio Morte (%)', 
                                            color: '#8b0000', 
                                            font: { weight: 'bold', size: 11 } 
                                        },
                                        ticks: {
                                            color: '#8b0000',
                                            stepSize: 20,
                                            font: { size: 10 },
                                            callback: function(value) {
                                                return value + '%';
                                            }
                                        },
                                        grid: { 
                                            drawOnChartArea: false,
                                        }
                                    }
                                }
                            }
                        });
                        break;

                    case 'loveChart':
                        new Chart(ctx, {
                            type: 'line',
                            data: {
                                labels: ['2020', '2021', '2022', '2023', '2024'],
                                datasets: [{
                                    label: 'Baci all\'ora',
                                    data: [0, 5, 25, 67, 150],
                                    backgroundColor: 'rgba(255,107,139,0.1)',
                                    borderColor: '#ff6b8b',
                                    fill: true,
                                    tension: 0.4,
                                    pointBackgroundColor: '#ff6b8b',
                                    pointBorderColor: '#fff',
                                    pointBorderWidth: 3,
                                    pointRadius: 6
                                }, {
                                    label: 'Soffi nel naso (decine)',
                                    data: [0, 2, 12, 35, 85],
                                    backgroundColor: 'rgba(124,92,255,0.1)',
                                    borderColor: '#7c5cff',
                                    fill: true,
                                    tension: 0.4,
                                    pointBackgroundColor: '#7c5cff',
                                    pointBorderColor: '#fff',
                                    pointBorderWidth: 3,
                                    pointRadius: 6
                                }]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                animation: animationConfig,
                                plugins: { legend: { display: true, position: 'top' } },
                                scales: {
                                    y: { beginAtZero: true, title: { display: true, text: 'Frequenza' } },
                                    x: { title: { display: true, text: 'Anno della Relazione' } }
                                }
                            }
                        });
                        break;
                }
            }
        });

        // Quiz di compleanno - Variabili globali
        const quizData = [
            {
                question: "Cosa fa rima con eterno?",
                options: [
                    { text: "A. Inferno", correct: true },
                    { text: "B. Fraterno", correct: false },
                    { text: "C. Moderno", correct: false },
                    { text: "D. Salerno", correct: false }
                ]
            },
            {
                question: "Qual è la migliore marca di tè freddo?",
                options: [
                    { text: "A. Estathé", correct: false },
                    { text: "B. Fuze Tea", correct: true },
                    { text: "C. Lipton", correct: false },
                    { text: "D. Coop The al Limone", correct: false }
                ]
            },
            {
                question: "Quanti conchiglioni di pasta ti cucinerebbe Giuseppe per una cena gourmet (secondo lui)?",
                options: [
                    { text: "A. Uno, piccolo", correct: true },
                    { text: "B. Un piatto intero", correct: false },
                    { text: "C. Non sa cucinare", correct: false },
                    { text: "D. Non molti, ma abbastanza da sfamarmi", correct: false }
                ]
            },
            {
                question: "Come valuteresti l'esperienza di oggi?",
                options: [
                    { text: "A. Nelle aspettative", correct: false },
                    { text: "B. Molto buona", correct: false },
                    { text: "C. INCREDIBILE", correct: true },
                    { text: "D. Soddisfacente", correct: false }
                ]
            },
            {
                question: "Chi butteresti giù da una torre se fossi costretta a scegliere?",
                options: [
                    { text: "A. Giuseppe", correct: false },
                    { text: "B. Polpetta", correct: false },
                    { text: "C. Me stessa", correct: false },
                    { text: "D. Daniele", correct: true }
                ]
            }
        ];

        let currentQuestionIndex = 0;
        let correctAnswers = 0;

        function startQuiz() {
            document.getElementById('quizStart').style.display = 'none';
            document.getElementById('quizGame').style.display = 'block';
            currentQuestionIndex = 0;
            correctAnswers = 0;
            showQuestion();
        }

        function showQuestion() {
            const question = quizData[currentQuestionIndex];
            const progressPercent = ((currentQuestionIndex + 1) / quizData.length) * 100;
            
            document.getElementById('progressFill').style.width = progressPercent + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            document.getElementById('questionText').textContent = question.question;
            document.getElementById('feedbackMessage').style.display = 'none';
            
            const optionsContainer = document.getElementById('answerOptions');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'answer-option';
                button.textContent = option.text;
                button.onclick = () => selectAnswer(index, option.correct);
                optionsContainer.appendChild(button);
            });
        }

        function selectAnswer(selectedIndex, isCorrect) {
            const options = document.querySelectorAll('.answer-option');
            const feedback = document.getElementById('feedbackMessage');
            
            // Disabilita tutte le opzioni
            options.forEach(option => option.classList.add('disabled'));
            
            // Evidenzia la risposta selezionata
            if (isCorrect) {
                options[selectedIndex].classList.add('correct');
                feedback.className = 'quiz-feedback correct';
                feedback.textContent = '🎉 Esatto! Bene!';
                correctAnswers++;
            } else {
                options[selectedIndex].classList.add('incorrect');
                // Mostra anche la risposta corretta
                quizData[currentQuestionIndex].options.forEach((option, index) => {
                    if (option.correct) {
                        options[index].classList.add('correct');
                    }
                });
                feedback.className = 'quiz-feedback incorrect';
                feedback.textContent = '❌ Sbagliata! La risposta corretta è evidenziata.';
            }
            
            feedback.style.display = 'block';
            
            // Passa alla prossima domanda dopo 2 secondi
            setTimeout(() => {
                currentQuestionIndex++;
                if (currentQuestionIndex < quizData.length) {
                    showQuestion();
                } else {
                    showResults();
                }
            }, 2000);
        }

        function showResults() {
            document.getElementById('quizGame').style.display = 'none';
            document.getElementById('quizResults').style.display = 'block';
            
            const resultContainer = document.getElementById('resultMessage');
            
            if (correctAnswers === quizData.length) {
                // Tutte le risposte corrette - mostra il premio!
                resultContainer.innerHTML = `
                    <div class="result-success">
                        🏆 PERFETTO! 🏆<br>
                        Hai risposto correttamente a tutte le ${quizData.length} domande!<br>
                        <strong>Hai vinto il tuo regalo speciale!</strong>
                    </div>
                `;
                
                // Mostra il regalo dopo un momento
                setTimeout(() => {
                    showGiftOverlay();
                }, 1500);
                
            } else {
                resultContainer.innerHTML = `
                    <div class="result-failure">
                        😅 Hai risposto correttamente a ${correctAnswers} su ${quizData.length} domande.<br>
                        Ti serve il puntegio pieno per sbloccare il regalo!<br>
                        <strong>Riprova per vincere il premio!</strong>
                    </div>
                `;
            }
        }

        function resetQuiz() {
            document.getElementById('quizResults').style.display = 'none';
            document.getElementById('quizStart').style.display = 'block';
            currentQuestionIndex = 0;
            correctAnswers = 0;
        }

        function showGiftOverlay() {
            const giftOverlay = document.getElementById('giftOverlay');
            giftOverlay.style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }
        
        function closeGift() {
            const giftOverlay = document.getElementById('giftOverlay');
            giftOverlay.style.display = 'none';
            document.body.style.overflow = 'auto';
        }
        
        // Chiudi l'overlay cliccando fuori dal contenuto
        document.addEventListener('DOMContentLoaded', function() {
            const giftOverlay = document.getElementById('giftOverlay');
            if (giftOverlay) {
                giftOverlay.addEventListener('click', function(e) {
                    if (e.target === this) {
                        closeGift();
                    }
                });
            }
        });
    </script>
</body>
</html>
